---
layout : post
category : Programming language
tags : [C , programming language]
---
# C语言  

## 1 概述  

--- 

## 2 结构特点 

*	一个C语言源程序可以由一个或多个源文件构成  
*	每个源文件可由一个或多个函数组成  
*	一个源程序不论由多少个文件组成，都有一个且只能有一个main函数，即主函数  
*	源程序中可以有预处理命令(include 命令仅为其中的一种)，预处理命令通常应放在源文件或源程序的最前面。  
*	每一个说明，每一个语句都必须以分号结尾。但预处理命令，函数头和花括号“}”之后不能加分号。  
*	标识符，关键字之间必须至少加一个空格以示间隔。若已有明显的间隔符，也可不再加空格来间隔。  

---

##	3 书写规定

* 使用大写还是小写字母
	*  	小写
*  是否大小写敏感
	*	是
* 程序体如何标识
	* ｛ ｝

---

## 4 字符集

### 1) 字母  

* 大写 A~Z 26个
* 小写 a~z 26个

### 2) 	数字

* 0~9 10个

### 3) 	空白符

* 空格
* 制表符
* 换行符
*	空白符只在字符常量和字符串常量中起作用。在其它地方出现时，只起间隔作用， 编译程序对它们忽略。因此在程序中使用空白符与否，对程序的编译不发生影响，但在程序中适当的地方使用空白符将增加程序的清晰性和可读性。

### 4) 标点和特殊字符

### 5) 其它

* 在字符常量，字符串常量和注释中还可以使用汉字或其它可表示的图形符号

---

## 5 词汇

### 1) 标识符

*	常量、变量、语句标号、以及用户自定义函数的名称
*	规定
	* 必须由一个字母(a~z,A~Z)或下划线开头(_)
	* 其它部分可以用字母、下划线或数字(0~9)组成
	* 大小写字母表示不同的意义，即代表不同的标识符
	* 长度因版本和机器而异
	* 不能使用关键字

### 2) 关键字/保留字

* 语言本身使用，不能用作变量名、函数名等

#### ①	类型说明符

`int` `double`

#### ②	语句定义符

`if` `else`

#### ③	预处理命令字

`define` `error` `if` `else` `elif` `endif` `ifdef` `ifndef` `undef` `line` `pragma`

### 3) 运算符

#### ①	算数  

`+` `-` `*` `/` `%` `++` `--`
	
#### ②	关系 

`>` `>=` `==` `<=` `<` `!=`

#### ③	逻辑

`&&` `||` `!`

#### ④	位操作

`&` `|` `^` `-` `<<` `>>`

#### ⑤	赋值

`=`  
* 复合算术赋值  
`+=` `-=` `*=` `/=` `%=`  
* 复合位运算赋值  
`&=` `|=` `^=` `>>=` `<<=`  
		
#### ⑥	条件

` ? : `

#### ⑦	逗号

` ，`	
* 将多个表达式串在一起，运算符的左边不返回，右边表达式的值才是整个表达式的值
* x =x-5, x/5

#### ⑧	指针

`& `` * `  

#### ⑨	求字节

`sizeof`

#### ⑩	特殊

括号`( )`  
下标`[ ]`  
成员 `->` `.`  

### 4) 分隔符

#### ①	逗号 

* 用于类型说明和函数参数表中，分隔开各个变量

#### ② 空格

### 5) 常量

#### ①	数字常量  

#### ② 字符常量  

#### ③	符号常量  

#### ④	转义字符  

###	6) 注释符

`/* */`   

---

## 6 数据类型

### 1) 基本数据类型

#### ①	整型  

* 整型常量  (整常数)
	* 八进制 0开头
	* 十六进制 0X 0x
	* 十进制
* 整型变量  
	* 	基本型    int  
	* 	短整型  short int  或 short  
	*	长整型  long int 或  long  
	* 	无符号型    
		unsigned int 或 unsigned  
		unsigned short  
		unsigned long  

#### ② 	浮点型/实型

* 实常量 （只用十进制表示）
	* 十进制数形式
	* 指数形式

* 实型变量
	* 单精度 float	（若实常量加后缀f，则为单精度）
	* 双精度 double （默认实常量为双精度）

#### ③	字符型

* 字符常量
	* 字符常量只能用单引号括起来，不能用双引号或其它括号  
	* 字符常量只能是单个字符，不能是字符串  
	* 字符可以是字符集中任意字符。但数字被定义为字符型之后就 不能参与数值运算。如'5'和5 是不同的。'5'是字符常量，不能参与运算  
* 转义字符  
* 字符变量  
	*	char
		* ASCII码
		* 单字节
		* 可以看作整型，但只有一个字节
* 字符串常量
	*	字符常量由单引号括起来，字符串常量由双引号括起来
	*	字符常量只能是单个字符，字符串常量则可以含一个或多个字符
	*	可以把一个字符常量赋予一个字符串变量，但不能把一个字符串常量赋予一个字符变量。在Ｃ语言中没有相应的字符串变量，但是可以用一个字符数组来存放一个字符串常量
	*	字符常量占一个字节的内存空间。字符串常量占的内存字节数等于字符串中字节数加1。增加的一个字节中存放字符"\0"(ASCII码为0)。这是字符串结束的标志。
* 符号常量  
	* 宏定义  

###	2)	 指针类型

###	3)	 构造数据类型

#### ①	数组类型

#### ②	结构体

* 变量名.成员
* 指针->成员
* 位结构
	*	数据类型 变量名 ： 整形常数  

#### ③ 联合体

#### ④	枚举

* 被命名的整型常数的集合
* 枚举中每个成员结束符是逗号，不是分号。

###	4)	 空类型

###	5)	 typedef

*	只定义了一个数据类型的新名字而不是定义一种新的数据类型

---

##	7 表达式

### 1)	算数表达式  

### 2)	赋值表达式  

*	式子x=(a=5)+(b=8) 是赋值表达式  
*	按照Ｃ语言规定，任何表达式在其未尾加上分号就构成为语句。因此如x=8;a=b=c=5；都是赋值语句  

### 3)	优先级和结合性

### 4)	变量数据类型的转换  

#### ① 自动转换

* 若参与运算量的类型不同，则先转换成同一类型，然后进行运算。
* 转换按数据长度增加的方向进行，以保证精度不降低。如int型和long型运算时，先把int量转成long型后再进行运算。
* 所有的浮点运算都是以双精度进行的，即使仅含float单精度量运算的表达式，也要先转换成double型，再作运算。
* char型和short型参与运算时，必须先转换成int型。
* 在赋值运算中，赋值号两边量的数据类型不同时， 赋值号右边量的类型将转换为左边量的类型。 如果右边量的数据类型长度左边长时，将丢失一部分数据，这样会降低精度， 丢失的部分按四舍五入向前舍入。

#### ② 强制类型转换

* 类型说明符和表达式都必须加括号(单个变量可以不加括号)，如把(int)(x+y)写成(int)x+y则成了把x转换成int型之后再与y相加了。
* 无论是强制转换或是自动转换，都只是为了本次运算的需要而对变量的数据长度进行的临时性转换，而不改变数据说明时对该变量定义的类型。

---

##	8 语句

### 1)	分类  

#### ①	表达式语句  

表达式语句由表达式加上分号“；”组成。

#### ②	函数调用语句

由函数名、实际参数加上分号“；”组成。

#### ③	控制语句

* 条件语句
	*	if else
	*	switch case:
* 循环语句
	* for
	* while
	* do while
* 转向
	*	break
		* 跳出一层循环
	*	continue
		* 结束本次循环，进行下一次循环
	* goto
		* 标号  
			*  标识符 ：  
		* 多层嵌套时可用
	*	return  

#### ④	复合语句

* 把多个语句用括号{}括起来组成的一个语句称复合语句。
* 复合语句内的各条语句都必须以分号“;”结尾，在括号“}”外不能加分号。

#### ⑤	空语句

* 只有分号“；”组成的语句称为空语句。
* 空语句是什么也不执行的语句。在程序中空语句可用来作空循环体。
* 例如 while(getchar()!='\n'); 本语句的功能是，只要从键盘输入的字符不是回车则重新输入。这里的循环体为空语句。

### 2)	常用语句

#### ① 赋值语句

#### ② 数据输出语句
* 输出格式字符串
	* [标志][输出最小宽度][.精度][长度]类型
		 |类型|AAA|
		 |-
		|d
		|o
		|x
		|u
		|f
		|e
		|g
		|c
		|s  

		| 标志|BBB|
		|-
		|-|结果左对齐，右边填空格
		|+|输出正负号
		|空格|输出值为正冠以空格，为负冠以负号
		|#|o 加前缀0<br/>x 加前缀0x<br/>e,g,f 有小数时才给出小数点|
		
	* 输出最小宽度
		* 用十进制整数来表示输出的最少位数。 若实际位数多于定义的宽度，则按实际位数输出， 若实际位数少于定义的宽度则补以空格或0
	* 精度
		* 精度格式符以“.”开头，后跟十进制整数。本项的意义是：如果输出数字，则表示小数的位数；如果输出的是字符， 则表示输出字符的个数；若实际位数大于所定义的精度数，则截去超过的部分。
	* 长度
		* h 表示按短整型量输出
		* l 表示按长整型量输出

####③	数据输入语句

* 输入格式字符串
* 函数调用语句

---

##	9 函数


### 1）分类  

#### ①	从定义角度

* 库函数
	*	输入输出函数
	*	数学函数
	*	字符串函数
	*	内存函数
	*	字符屏幕和图形功能函数
	*	进程控制函数
	*	目录函数
	*	接口函数
		*	与BIOS和DOS相关的函数
	*	日期时间函数
	*	图形函数
	*	诊断函数
	*	转换函数
	*	字符类型分类函数
* 自定义函数
	*	1 声明与定义
		*	声明
		*	定义
	*	2函数的调用
		*	函数的简单调用
		*	函数参数传递
			*	调用函数向被调用函数以形式参数传递
			*	被调用函数向调用函数返回值
			*	使用全局变量实现参数互传
	*	函数的递归调用
		*	牺牲内存空间
	*	3 函数的作用范围
	*	4 函数的变量作用域

#### ②	兼有其他语言的函数和过程

* 有返回值
* 无返回值

#### ③	数据传送角度

* 无参函数
* 有参函数

#### ④	多源文件间调用

* 内部函数
	*	如果在一个源文件中定义的函数只能被本文件中的函数调用，而不能被同一源程序其它文件中的函数调用， 这种函数称为内部函
	*	定义内部函数的一般形式是： static 类型说明符 函数名(形参表)
	*		例如： static int f(int a,int b) 内部函数也称为静态函数。但此处静态static 的含义已不是指存储方式，而是指对函数的调用范围只局限于本文件。 因此在不同的源文件中定义同名的静态函数不会引起混淆。
* 外部函数
	*		外部函数在整个源程序中都有效，
	*		其定义的一般形式为： extern 类型说明符 函数名(形参表)
	*		例如： extern int f(int a,int b)如在函数定义中没有说明extern或static则隐含为extern。在一个源文件的函数中调用其它源文件中定义的外部函数时，应 用extern说明被调函数为外部函数。

### 2）函数定义的一般形式

*	不能嵌套定义
*	[extern/static] 类型说明符 函数名([形参表]) 方括号内为可选项

### 3）函数声明的一般形式

*	[extern] 类型说明符 函数名([形参表])；

### 4）函数调用的一般形式

*	函数名([实参表])

### 5）函数参数

*	形参
*	实参

### 6）函数的值

### 7）数组名作为函数参数

### 8）函数的嵌套调用和递归调用

---

## 10 变量

### 1）声明  

### 2）作用域

*	局部
*	全局

### 3）存储类型

*	动态存储
	* 自动 auto
	* 寄存器变量 register
*	静态存储
	* 静态 static
	* 外部 extern

---

##	11 数组

### 1）	数组类型说明  

*	一般形式：
	* 类型说明符 数组名 [常量表达式]，......;
	* 类型说明符
		*	任一种基本数据类型或构造数据类型
	* 数组名
		*	用户定义的数组标识符
	* 常量表达式
		* 数据元素的个数，也称为数组的长度
*	注意
	* 数组的类型实际上是指数组元素的取值类型。对于同一个数组，其所有元素的数据类型都是相同的
	* 数组名的书写规则应符合标识符的书写规定
	* 数组名不能与其它变量名相同
	* 方括号中常量表达式表示数组元素的个数，如a[5]表示数组a有5个元素。但是其下标从0开始计算。因此5个元素分别为a[0],a[1],a[2],a[3],a[4]。
	* 不能在方括号中用变量来表示元素的个数， 但是可以是符号常数或常量表达式
	* 允许在同一个类型说明中，说明多个数组和多个变量

### 2）	数组元素的表示方法  

* 一般形式
	* 数组名[下标]

### 3）	数组的赋值

*	初始化赋值
*	赋值语句赋值
*	输入函数动态赋值

---

##	12 指针

### 1）	简介

### 2）	类型说明

### 3）	赋值

### 4）	运算

* 	赋值运算
*	加减算术运算

### 5） 不同类型的指针 

*	数组指针变量的说明和使用
*	数组名和数组指针变量做函数参数
*	指向多维数组的指针变量
*	使用字符串指针变量与字符串数组的区别
*	函数指针变量
*	指针型函数
*	main函数的参数
*	指针声明
	*	有关指针的说明很多是由指针，数组，函数说明组合而成的。 但并不是可以任意组合，例如数组不能由函数组成，即数组元素不能是一个函数；函数也不能返回一个数组或返回另一个函数

---

##	13 结构体

### 1）定义  

### 2）	结构体变量的声明

*	先定义变量，再说明结构变量
*	在定义结构类型的同时说明结构变量
*	直接说明结构变量
	* 没有结构名

### 3）表示结构体变量成员的一般形式是

*		结构名.成员名

### 4）结构体变量的赋值

### 5）结构体数组

### 6）结构体指针变量

*	结构体变量.成员名
*	（*结构体指针变量）.成员名
*	结构体指针变量->成员名

### 7）结构体指针变量作函数参数

### 8）动态存储分配

*	内存管理函数
	*	malloc
	*	calloc
	*	free
*	链表

---

## 14	联合体

### 1）定义

### 2）声明

### 3）赋值和使用

---

## 15	枚举

### 1）定义

### 2）声明

### 3）赋值和使用

---

## 16	位运算

### 1）位域/位段

### 2）位域的使用

---

## 17	预处理

### 1）	概述

### 2）	宏定义

*	无参宏定义
*	带参宏定义

### 3）文件包括

### 4）条件编译

---

##  18	文件

### 1）	基本概念
